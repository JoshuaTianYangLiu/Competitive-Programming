//============================================================================
// Name        : DiverseArray.cpp
// Author      : 
// Version     :
// Copyright   : Your copyright notice
// Description : Hello World in C++, Ansi-style
//============================================================================

#include <bits/stdc++.h>

using namespace std;
int in[1000001];
int freq[1000001];
int main() {
	memset(freq,0,sizeof(freq));
	int n,k;
	scanf("%d %d",&n,&k);
	for(int i=0; i<n; i++){
		scanf("%d",&in[i]);
	}
	freq[in[0]]++;
	int cnt=0;
	int ans=0;
	for(int l=0,r=0; r<n;){
		if(cnt>=k){
			ans+=n-r+1;
			if(--freq[in[l++]]==0)cnt--;
		}else{
			if(freq[in[r++]]++==0)cnt++;
		}
		printf("%d %d %d\n",l,r,cnt);
	}
	printf("%d",ans);
    return 0;
}
